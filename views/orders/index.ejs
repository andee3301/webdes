<%- include('../partials/header') %>

<div class="admin-page-header">
  <div>
    <h1 class="admin-page-header__title">My Orders</h1>
    <p class="admin-page-header__subtitle">
      Track your coffee deliveries and order history.
    </p>
  </div>
  <div class="admin-page-header__actions">
    <a class="btn btn-primary" href="/shop">Continue Shopping</a>
  </div>
</div>

<% if (!orders.length) { %>
<div class="empty-state">
  <div class="empty-state__icon">ğŸ“¦</div>
  <h3 class="empty-state__title">No orders yet</h3>
  <p class="empty-state__text">
    Your coffee journey awaits! Browse our menu to find your perfect roast.
  </p>
  <a class="btn btn-primary" href="/shop">Shop Now</a>
</div>
<% } else { %>

<div class="order-blocks">
  <% orders.forEach((order) => { %>
  <div class="order-block">
    <div class="order-block__header">
      <div style="display: flex; align-items: center; gap: 1rem">
        <span class="order-block__id">Order #<%= order.id %></span>
        <span class="status-badge status-badge--<%= order.status %>">
          <%= order.status %>
        </span>
      </div>
      <span class="order-block__date">
        <%= new Date(order.createdAt).toLocaleDateString('en-US', { weekday:
        'short', year: 'numeric', month: 'short', day: 'numeric', hour:
        '2-digit', minute: '2-digit' }) %>
      </span>
    </div>

    <div class="order-block__body">
      <div class="order-block__customer">
        <span class="order-block__label">Status</span>
        <span class="order-block__value">
          <% if (order.status === 'pending') { %> â³ Awaiting confirmation <% }
          else if (order.status === 'confirmed') { %> âœ“ Order confirmed <% }
          else if (order.status === 'shipped') { %> ğŸšš On the way <% } else if
          (order.status === 'completed') { %> âœ… Delivered <% } else { %> âŒ
          Cancelled <% } %>
        </span>
      </div>
      <div class="order-block__customer">
        <span class="order-block__label">Total</span>
        <span
          class="order-block__value"
          style="
            color: var(--burnt-amber);
            font-weight: 700;
            font-size: 1.25rem;
          "
        >
          $<%= parseFloat(order.totalPrice).toFixed(2) %>
        </span>
      </div>
    </div>

    <div class="order-block__footer">
      <div style="color: var(--muted-ink); font-size: var(--font-sm)">
        <% if (order.shippingAddress) { %> ğŸ“ <%= order.shippingAddress %> <% }
        %>
      </div>
      <a class="btn btn-primary btn-sm" href="/orders/<%= order.id %>"
        >View Details â†’</a
      >
    </div>
  </div>
  <% }); %>
</div>

<% } %> <%- include('../partials/footer') %>
